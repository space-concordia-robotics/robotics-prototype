<launch>
    <arg name="joy_dev" default="/dev/input/js0"/>
    <arg name="cmd_vel_out" default="rover_cmd_vel"/>
    <arg name="joy_config_file" default="$(find mcu_control)/config/joy_config.yaml"/>

    <node pkg="ping_acknowledgment" type="ping_response_server.py" name="ping_response_server" output="screen"/>
    <node pkg="mux_selector" type="mux_select_server.py" name="mux_select_server" output="screen"/>
    <node pkg="serial_cmd" type="serial_cmd_server.py" name="serial_cmd_server" output="screen"/>
    <node pkg="task_handler" type="task_handler_server.py" name="task_handler_server" output="screen"/>
    <node pkg="web_video_server" type="web_video_server" name="web_video_server" output="screen"/>
    <node pkg="mcu_control" type="PdsNode.py" name="PdsNode" output="screen"/>
    <node pkg="mcu_control" type="CommsNode.py" name="comms_node" output="screen"/>
    <!-- <node pkg="odroid_rx" type="rx_publisher.py" name="rx_publisher" output="screen"/> -->

    <node name="joy_node" pkg="joy" type="joy_node">
        <param name="dev" value="$(arg joy_dev)"/>
        <param name="coalesce_interval" value="0.05"/>
        <param name="autorepeat_rate" value="10.0"/>
    </node>

    <node name="joy_teleop_node" pkg="teleop_twist_joy" type="teleop_node">
        <rosparam command="load" file="$(arg joy_config_file)"/>
        <remap from="cmd_vel" to="$(arg cmd_vel_out)"/>
    </node>
</launch>
